;;; -*- mode: lisp -*-
;;; StumpWmRC: Setup Swank and Slime
;;; $Author: tv.raman.tv $
;;; Keywords: StumpWM, Emacspeak, Audio Desktop
(use-package :stumpwm)
;;; {swank and stumpwm


;; Load swank.
(load "/home/raman/emacs/lisp/site-lisp/slime/swank-loader.lisp")
(swank-loader:init)
(defcommand swank () ()
  (setf stumpwm:*top-level-error-action* :break)
  (swank:create-server :port 4005
                       :style swank:*communication-style*
                       :dont-close t)
  (echo-string (current-screen) 
               "Starting swank. M-x slime-connect RET RET, then (in-package stumpwm)."))


(swank)


;;; }
;;; {Lock screen C-t C-l

(defparameter *my-lock-command*
  "exec xlock -mode goop \
-startCmd '/usr/bin/ogg123 /usr/share/sounds/ubuntu/stereo/service-logout.ogg  &' \
-endCmd '/usr/bin/ogg123 /usr/share/sounds/ubuntu/stereo/service-login.ogg  &'")

(define-key *root-map* (kbd "C-l") *my-lock-command*)

 ;;; }
;;; {Emacs local variables

;;; local variables:
;;; mode: folding
;;; folded-file: t
;;; end:

;;; }
