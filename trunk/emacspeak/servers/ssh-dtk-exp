#!/usr/bin/tcl
#$Id$
#Description: Launch a TTS server on a remote host.
#Copyright (C) 1995 -- 2003, T. V. Raman 
# {{{  documentation

# Running TTS server remotely.
# }}}
set host [exec hostname]
puts stderr "running on host <$host>"
if [expr $argc == 0] {
    set remote [exec cat $env(HOME)/.emacspeak/.current-remote-hostname]
} else {
    set remote [lindex $argv 0]
}
set host_port [split $remote ":"]
set host [lindex $host_port 0]
set port [lindex $host_port 1]
if {$port == ""} {set  port 22}
set tcl /usr/bin/tcl 
regsub {/ssh-}  $argv0 {/} tts
puts stderr "Running <ssh $host -p $port   $tcl $tts>"
exec     ssh -o StrictHostKeyChecking=no $host -p $port  $tcl $tts
